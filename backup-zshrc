if [[ "$OSTYPE" == "linux-gnu" ]]; then
  export VISUAL=vim
  export EDITOR="$VISUAL"
  echo "ðŸ¤” â€“ Linux based OS â€“ using zsh ðŸ‘»"
  source ~/dot/alias
  source ~/dot/colors
  source ~/dot/functions

  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
  
  # enable fzf key-bindings
  [ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
  . /usr/share/autojump/autojump.sh
  source ~/local.sh

  # check if tmux session exists
  # if it exists, attach
  tmux ls
  if [ $? -eq 0 ]; then
    $TMUX
    if [ $? -eq 0 ]; then
      tmux attach
    else
      clear
    fi
  fi
  PATH="/snap/bin:$PATH"
# ------ MAC OS SETUP BELOW ------
elif [[ "$OSTYPE" == "darwin"* ]]; then

  echo "ðŸ‘‹ â“ macOS â“ using zsh ðŸŒ»"
  # Source Prezto.
  if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
    source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
  fi
 
  #--------- configs for brew packages -----
 
  # Autojump aka `j` set up below
  [[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] && . $(brew --prefix)/etc/profile.d/autojump.sh

  # key repeating for OSX
  defaults write -g InitialKeyRepeat -int 17 # normal minimum is 15 (225 ms)
  defaults write -g KeyRepeat -int 2 # normal minimum is 2 (30 ms)
 
  # Add RVM to PATH for scripting. Make sure this is the last PATH variable change.
  export PATH="$HOME/.rvm/bin:$PATH"
 
  source ~/dot/alias
  source ~/dot/colors
  source ~/dot/functions
 
  export EDITOR=/usr/bin/vim
  export VISUAL=/usr/bin/less
 
 
  export NVM_DIR="$HOME/.nvm" 
# . "/usr/local/opt/nvm/nvm.sh"
 
  export GOPATH=/Users/muhammad/go
  export PATH=$GOPATH/bin:$PATH
 
  # heroku autocomplete setup
  HEROKU_AC_ZSH_SETUP_PATH=/Users/muhammad/Library/Caches/heroku/autocomplete/zsh_setup && test -f $HEROKU_AC_ZSH_SETUP_PATH && source $HEROKU_AC_ZSH_SETUP_PATH;
 
fi
# ---------- end of OS specific setups ---------

plugins=(zsh-completions)
autoload -U compinit && compinit


if [ -f ~/.square-zshrc ]
  then
    source ~/.square-zshrc
    source ~/local-only/shuttle.sh
    source ~/local-only/personal.sh
fi

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

PKG_CONFIG_PATH="/usr/local/opt/libarchive/lib/pkgconfig"

export PATH="/usr/local/opt/openssl/bin:$PATH"
export PATH="/usr/local/opt/openssl@1.1/bin:$PATH"

#if [ which rbenv &> /dev/null ]
#  then
#    eval "$(rbenv init -)"
#fi
#eval "$(rbenv init -)"

# ----------- command history related options
SAVEHIST=2500
HISTFILE=~/.zhistory
setopt inc_append_history
setopt share_history

source ~/powerlevel10k/powerlevel10k.zsh-theme
