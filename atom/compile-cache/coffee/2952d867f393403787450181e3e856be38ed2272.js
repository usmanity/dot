(function() {
  var AtomSync, CompositeDisposable, controller;

  CompositeDisposable = require('atom').CompositeDisposable;

  controller = require('./controller/service-controller');

  module.exports = AtomSync = {
    subscriptions: null,
    controller: controller,
    activate: function(state) {
      this.subscriptions = new CompositeDisposable;
      this.subscriptions.add(atom.commands.add('.tree-view.full-menu .header.list-item', {
        'atom-sync:configure': (function(_this) {
          return function(e) {
            return _this.controller.onCreate();
          };
        })(this)
      }));
      this.subscriptions.add(atom.commands.add('atom-workspace', {
        'atom-sync:download-directory': (function(_this) {
          return function(e) {
            return _this.controller.onSync(atom.workspace.getLeftPanels()[0].getItem().selectedPaths()[0], 'down');
          };
        })(this)
      }));
      this.subscriptions.add(atom.commands.add('atom-workspace', {
        'atom-sync:upload-directory': (function(_this) {
          return function(e) {
            return _this.controller.onSync(atom.workspace.getLeftPanels()[0].getItem().selectedPaths()[0], 'up');
          };
        })(this)
      }));
      this.subscriptions.add(atom.commands.add('atom-workspace', {
        'atom-sync:download-file': (function(_this) {
          return function(e) {
            return _this.controller.onSync(atom.workspace.getLeftPanels()[0].getItem().selectedPaths()[0], 'down');
          };
        })(this)
      }));
      this.subscriptions.add(atom.commands.add('atom-workspace', {
        'atom-sync:upload-file': (function(_this) {
          return function(e) {
            return _this.controller.onSync(atom.workspace.getLeftPanels()[0].getItem().selectedPaths()[0], 'up');
          };
        })(this)
      }));
      this.subscriptions.add(atom.commands.add('atom-workspace', {
        'atom-sync:toggle-log-panel': (function(_this) {
          return function(e) {
            return _this.controller.toggleConsole();
          };
        })(this)
      }));
      this.subscriptions.add(atom.workspace.observeTextEditors((function(_this) {
        return function(editor) {
          return editor.onDidSave(function(e) {
            return _this.controller.onSave(e.path);
          });
        };
      })(this)));
      return this.subscriptions.add(atom.workspace.onDidOpen((function(_this) {
        return function(e) {
          return _this.controller.onOpen(e.uri);
        };
      })(this)));
    },
    deactivate: function() {
      return this.controller.destory();
    },
    serialize: function() {
      return {
        consoleView: this.controller.serialize()
      };
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL1VzZXJzL211aGFtbWFkLy5hdG9tL3BhY2thZ2VzL2F0b20tc3luYy9saWIvYXRvbS1zeW5jLmNvZmZlZSIKICBdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICJBQUFBO0FBQUEsTUFBQSx5Q0FBQTs7QUFBQSxFQUFDLHNCQUF1QixPQUFBLENBQVEsTUFBUixFQUF2QixtQkFBRCxDQUFBOztBQUFBLEVBRUEsVUFBQSxHQUFhLE9BQUEsQ0FBUSxpQ0FBUixDQUZiLENBQUE7O0FBQUEsRUFJQSxNQUFNLENBQUMsT0FBUCxHQUFpQixRQUFBLEdBQ2I7QUFBQSxJQUFBLGFBQUEsRUFBZSxJQUFmO0FBQUEsSUFDQSxVQUFBLEVBQVksVUFEWjtBQUFBLElBR0EsUUFBQSxFQUFVLFNBQUMsS0FBRCxHQUFBO0FBQ04sTUFBQSxJQUFDLENBQUEsYUFBRCxHQUFpQixHQUFBLENBQUEsbUJBQWpCLENBQUE7QUFBQSxNQUNBLElBQUMsQ0FBQSxhQUFhLENBQUMsR0FBZixDQUFtQixJQUFJLENBQUMsUUFBUSxDQUFDLEdBQWQsQ0FBa0Isd0NBQWxCLEVBQTREO0FBQUEsUUFBQSxxQkFBQSxFQUF1QixDQUFBLFNBQUEsS0FBQSxHQUFBO2lCQUFBLFNBQUMsQ0FBRCxHQUFBO21CQUNsRyxLQUFDLENBQUEsVUFBVSxDQUFDLFFBQVosQ0FBQSxFQURrRztVQUFBLEVBQUE7UUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQXZCO09BQTVELENBQW5CLENBREEsQ0FBQTtBQUFBLE1BSUEsSUFBQyxDQUFBLGFBQWEsQ0FBQyxHQUFmLENBQW1CLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBZCxDQUFrQixnQkFBbEIsRUFBb0M7QUFBQSxRQUFBLDhCQUFBLEVBQWdDLENBQUEsU0FBQSxLQUFBLEdBQUE7aUJBQUEsU0FBQyxDQUFELEdBQUE7bUJBQ25GLEtBQUMsQ0FBQSxVQUFVLENBQUMsTUFB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

//# sourceURL=/Users/muhammad/.atom/packages/atom-sync/lib/atom-sync.coffee
